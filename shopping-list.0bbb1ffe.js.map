{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,sCCpBA,IAAAE,EAAAC,EAAA,S,oEAUA,EAAAD,EAAAE,cAEA,MAAMC,EAASC,SAASC,cAAc,sBAChCC,EAAeF,SAASC,cAAc,0BAC5CE,QAAQC,IAAIF,GAEZC,QAAQC,IAAIC,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,CAAC,GAC7D,MAAMC,EAAiBJ,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,CAAC,EACxEL,QAAQC,IAAIK,EAAeC,OAI3B,MAAMC,EAAQT,EAGd,GAFAC,QAAQC,IAAIK,GACZN,QAAQC,IAAId,OAAOD,KAAKoB,GAAgBjB,SACnCF,OAAOD,KAAKoB,GAAgBjB,OAE/B,YADAW,QAAQC,IAAI,kBAEFK,EAAeC,MAAMlB,QAK/BW,QAAQC,IAAI,KACZF,EAAaU,MAAMC,QAAU,SAL7BV,QAAQC,IAAIK,EAAeC,OAC3BP,QAAQC,IAAI,KACZF,EAAaU,MAAMC,QAAU,SAM/B,MAAMC,EAAQ,GACdL,EAAeC,MAAMK,SAAQC,IAyD7B,IAAsBvB,KAxDPuB,EAyDNC,MAAM,6CAA6CxB,KAAMyB,MAAKC,GACnEA,EAAKC,UA1DYF,MAAKG,IACtBlB,QAAQC,IAAIiB,GACZP,EAAMQ,KAAKD,GACXtB,EAAOwB,mBAAmB,aAAa,EAAAC,EAAAC,cAAaJ,GAAA,GACtD,IAGFtB,EAAO2B,iBAAiB,SAExB,SAA0BC,GACxB,GAAIA,EAAIC,OAAOC,UAAUC,SAAS,aAAc,CAC9C,MACMrC,EADKkC,EAAIC,OAAOG,QAAQ,mBAChBC,QAAQvC,GACtBU,QAAQC,IAAIX,GAWZ,MAAMwC,EAAQnB,EAAMoB,WAAUlB,GAAQA,EAAKmB,MAAQ1C,IACnDU,QAAQC,IAAIU,EAAMmB,IAClBnB,EAAMsB,OAAOH,EAAO,GACpB9B,QAAQC,IAAIU,GAWZX,QAAQC,IAAI,gBACZ,EAAAiC,EAAAC,YAAW7C,GACXM,EAAOwC,WAAY,EAAAf,EAAAgB,eAAc1B,GAE5BA,EAAMtB,SACTW,QAAQC,IAAIF,EAAaU,MAAMC,SAE/BV,QAAQC,IAAIF,EAAaU,MAAMC,SAC/BV,QAAQC,IAAIF,GACZC,QAAQC,IAAIO,GACZR,QAAQC,IAAI,KAGZL,EAAOwC,UAAY,+MAA+ME,EAAAC,wCAEtO,CACF,KAQA,EAAA9C,EAAAE,a,6ICrGA,IAAA6C,EAAA9C,EAAA,S,oDAWeG,SAASC,cAAc,sBAwBtC,SAAS2C,EAAaC,GACpB,MAAO,gEACoDA,EAAKV,4EAE9CU,EAAKC,oBACrBD,EAAKE,oMAKuCF,EAAKE,+DAE3CF,EAAKG,WAAa,gIAKhBH,EAAKI,aAAe,qJAIkBJ,EAAKK,+JAIvCL,EAAKM,yIAEOV,EAAAE,qJAKZE,EAAKO,UAAU,GAAGC,+HAENZ,EAAAa,0JAKZT,EAAKO,UAAU,GAAGC,4HAENZ,EAAAc,qLAMNd,EAAAe,iIAItB,CAEA,SAASC,EAAc/C,GACrB,OAAOA,EAAMgD,IAAId,GAAce,KAAK,GACtC,EAIA,EAAA/D,EAAAE,a,sCC9FA8D,EAAAC,QAAiB,IAAAC,IAAoBjE,EAAA,SAAAkE,QAA6C,qBAAAV,KAAUW,U,sCCA5FJ,EAAAC,QAAiB,IAAAC,IAAoBjE,EAAA,SAAAkE,QAA6C,qBAAAV,KAAUW,U,sCCA5FJ,EAAAC,QAAiB,IAAAC,IAAoBjE,EAAA,SAAAkE,QAA6C,qBAAAV,KAAUW,U,sCCA5FJ,EAAAC,QAAiB,IAAAC,IAAoBjE,EAAA,SAAAkE,QAA6C,qBAAAV,KAAUW,U,sCCA5FJ,EAAAC,QAAiB,IAAAC,IAAoBjE,EAAA,SAAAkE,QAA6C,qBAAAV,KAAUW,U,ICA5FnE,EAAA,SAAAoE,SAA8C5D,KAAKC,MAAM,yWCAzDT,EAAA,S","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/shopping-list.js","src/js/create-markup-shopping.js","node_modules/@parcel/runtime-js/lib/runtime-04746df128b3d21d.js","node_modules/@parcel/runtime-js/lib/runtime-426c4d5fb9c7101f.js","node_modules/@parcel/runtime-js/lib/runtime-4836a641395b77e3.js","node_modules/@parcel/runtime-js/lib/runtime-ce6346a07176af18.js","node_modules/@parcel/runtime-js/lib/runtime-55d442b8731ae710.js","node_modules/@parcel/runtime-js/lib/runtime-5bfbb33c88c3fcdc.js","src/shopping.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import { hideLoader } from './queries';\nimport { generateCard } from './create-markup-shopping';\nimport shoppping_list from '../images/shopping_list.png';\n\nimport { generateCard, generateCards } from './create-markup-shopping';\n\nimport 'firebase/auth';\n\nimport { removeBook } from './login-modal';\n\nhideLoader();\n// const containerEl = document.querySelector('.js-container-list');\nconst listEl = document.querySelector('.js-listInShopping');\nconst emptyWrapper = document.querySelector('.js-wrapper-empty-page');\nconsole.log(emptyWrapper);\n// const arrToShoppingList = [];\nconsole.log(JSON.parse(localStorage.getItem('userdata')) || {});\nconst localStorageEL = JSON.parse(localStorage.getItem('userdata')) || {};\nconsole.log(localStorageEL.books);\n// listEl.insertAdjacentHTML('beforeend', createMarkupBooksInShopping(bookList));\n// const btnDelete = document.querySelector('.js-li-shopping');\n\nconst empty = emptyWrapper;\nconsole.log(localStorageEL);\nconsole.log(Object.keys(localStorageEL).length);\nif (!Object.keys(localStorageEL).length) {\n  console.log('vfekbmnubneubn');\n  return;\n} else if (!localStorageEL.books.length) {\n  console.log(localStorageEL.books);\n  console.log('1');\n  emptyWrapper.style.display = 'block';\n} else {\n  console.log('2');\n  emptyWrapper.style.display = 'none';\n}\n\nconst array = [];\nlocalStorageEL.books.forEach(item => {\n  apiFetchCate(item).then(data => {\n    console.log(data);\n    array.push(data);\n    listEl.insertAdjacentHTML('beforeend', generateCard(data));\n  });\n});\n\nlistEl.addEventListener('click', onClickBtnDelete);\n\nfunction onClickBtnDelete(evt) {\n  if (evt.target.classList.contains('js-delete')) {\n    const li = evt.target.closest('.js-li-shopping');\n    const id = li.dataset.id;\n    console.log(id);\n    // const masShop = array.filter(item => item._id !== id);\n    // console.log(masShop);\n    // listEl.innerHTML = createMarkupBooksInShopping(masShop);\n\n    // const index = bookList.findIndex(item => item._id === id);\n    // console.log(bookList[index]);\n    // bookList.splice(index, 1);\n    // console.log(bookList);\n    //   localStorage.setItem('shopping-list', JSON.stringify(bookList));\n\n    const index = array.findIndex(item => item._id === id);\n    console.log(array[index]);\n    array.splice(index, 1);\n    console.log(array);\n\n    // localStorage.setItem('shopping-list', JSON.stringify(bookList));\n    // listEl.innerHTML = createMarkupBooksInShopping(bookList);\n\n    // listEl.innerHTML = generateCard(array);\n    // const arr = array.map(item => item._id);\n    // localStorageEL.books = arr;\n    // console.log(localStorageEL);\n    // localStorage.setItem('userdata', JSON.stringify(localStorageEL));\n    // console.log(array);\n    console.log('vjn;evo;n;e');\n    removeBook(id);\n    listEl.innerHTML = generateCards(array);\n\n    if (!array.length) {\n      console.log(emptyWrapper.style.display);\n      //   emptyWrapper.style.display = 'block';\n      console.log(emptyWrapper.style.display);\n      console.log(emptyWrapper);\n      console.log(empty);\n      console.log('1');\n      //   addABook.style.display = 'none';\n      //   listEl.insertAdjacentElement('beforeend', emptyWrapper);\n      listEl.innerHTML = `<div class=\"wrapper-empty-page js-wrapper-empty-page\"><p class=\"wrapper-empty-page_description js-descr-empty\">This page is empty, add some books and proceed to order.</p><img class=\"js-image-empty\" src=\"${shoppping_list}\" alt=\"This page is empty\" /></div>`;\n    }\n  }\n}\n\nfunction apiFetchCate(id) {\n  return fetch(`https://books-backend.p.goit.global/books/${id}`).then(resp =>\n    resp.json()\n  );\n}\n\nhideLoader();\n","import amazonImg from '../images/amazon_link.png';\nimport appleImg from '../images/apple_link.png';\nimport bookshopImg from '../images/bookshop_link.png';\nimport trash from '../images/trash.png';\nimport { hideLoader } from './queries';\n// import { bookList } from './login-modal';\n\n// setTimeout(() => {\n//   listEl.insertAdjacentHTML('beforeend', generateCard(bookList));\n// }, 5000);\n\nconst listEl = document.querySelector('.js-listInShopping');\n\n// let shoppingList = bookList;\n// console.log(bookList, 'asdkjasldj');\n\n// function deleteBook(bookId) {\n//   const cardToDelete = document.querySelector(\n//     `.shopping-list-card[data-bookId=\"${bookId}\"]`\n//   );\n//   cardToDelete.remove();\n\n//   shoppingList = shoppingList.filter(book => book._id !== bookId);\n// }\n// function deleteBook(bookId) {\n//   const cardToDelete = document.querySelector(\n//     `.shopping-list-card[data-bookId=\"${bookId}\"]`\n//   );\n//   cardToDelete.remove();\n\n//   shoppingList = shoppingList.filter(book => book._id !== bookId);\n// }\n\n// window.deleteBook = deleteBook;\n\nfunction generateCard(book) {\n  return `\n    <li class=\"shopping-list-card js-li-shopping\" data-id='${book._id}'> \n      <div class=\"shopping-list-card__cover\">\n        <img src=\"${book.book_image}\" alt=\"${\n    book.title\n  }\" class=\"shopping-list-card__image\">\n      </div>\n      <div class=\"shopping-list-card__content\">\n<div class=\"shopping-list-card__index\">\n        <h1 class=\"shopping-list-card__title\">${book.title}</h1>\n        <p class=\"shopping-list-card__category\">${\n          book.list_name || 'No list name'\n        }</p>\n</div>\n        <div class=\"shopping-list-card__wrapper\">\n          <p class=\"shopping-list-card__desc\">${\n            book.description || 'We hope you will love it'\n          }</p>\n        </div>\n        <div class=\"shopping-list-card__cellar\">\n          <p class=\"shopping-list-card__author\">${book.contributor}</p>\n          <ul class=\"shopping-list-card__links\">\n             <li>\n              <a class=\"seller__link shopping-list-card__amazon\" href=${\n                book.amazon_product_url\n              } target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Amazon\">\n                <img src=\"${amazonImg}\" alt=\"amazon\" />\n              </a>\n            </li>\n            <li>\n              <a class=\"seller__link shopping-list-card__book\" href=${\n                book.buy_links[1].url\n              } target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Apple-books\">\n                <img src=\"${appleImg}\" alt=\"apple-books\" />\n              </a>\n            </li>\n            <li>\n              <a class=\"seller__link shopping-list-card__book\" href=${\n                book.buy_links[2].url\n              } target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Bookshop\">\n                <img src=\"${bookshopImg}\" alt=\"bookshop\" />\n              </a>\n            </li>\n          </ul>\n        </div>\n        <button class=\"shopping-list-card__button js-delete\">\n          <img src=\"${trash}\" width=\"16\" height=\"16\" class=\"shopping-list-card__icon js-delete\" alt=\"Remove\">\n        </button>\n      </div>\n    </li>`;\n}\n\nfunction generateCards(books) {\n  return books.map(generateCard).join('');\n}\n\n// generateCard(bookList);\n\nhideLoader();\n\nexport { generateCard, generateCards };\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3bIHe\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dkcwB\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2D6jo\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8uu4p\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2NOJR\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3bDNW\\\":\\\"shopping-list.0bbb1ffe.js\\\",\\\"3bIHe\\\":\\\"amazon_link.626c9508.png\\\",\\\"dkcwB\\\":\\\"apple_link.652b354e.png\\\",\\\"2D6jo\\\":\\\"bookshop_link.1d091ebd.png\\\",\\\"8uu4p\\\":\\\"trash.2b5e5aae.png\\\",\\\"2NOJR\\\":\\\"shopping_list.1426356a.png\\\",\\\"hhOCD\\\":\\\"index.3d6a5e36.js\\\"}\"));","import './js/queries';\nimport './js/header-current-page';\n// import './js/home';\n// import './js/create-markup-home';\nimport './js/create-markup-shopping';\nimport './js/shopping-list';\nimport './js/btn';\nimport './js/funds';\nimport './js/support-ukraine';\nimport './js/scroll-up';\nimport './js/theme';\n// import './js/category-list';\nimport './js/login-modal';\nimport './js/swiper';\nimport './js/menu';\n// import './js/create-modal';\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$j2XVn","parcelRequire","hideLoader","listEl","document","querySelector","emptyWrapper","console","log","JSON","parse","localStorage","getItem","localStorageEL","books","empty","style","display","array","forEach","item","fetch","then","resp","json","data","push","insertAdjacentHTML","$3rfQ9","generateCard","addEventListener","evt","target","classList","contains","closest","dataset","index","findIndex","_id","splice","$gY4QW","removeBook","innerHTML","generateCards","$parcel$interopDefault","$iemPn","$cnzG1","$28102e3d10e5b638$export$f6ad29e98ec72ffa","book","book_image","title","list_name","description","contributor","amazon_product_url","buy_links","url","$hau3M","$5AIOr","$jOPEG","$28102e3d10e5b638$export$b1b09fba7170721e","map","join","module","exports","URL","resolve","toString","register"],"version":3,"file":"shopping-list.0bbb1ffe.js.map"}