{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-4f2f920f46676aff.js","src/shopping.js","src/js/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-04746df128b3d21d.js","node_modules/@parcel/runtime-js/lib/runtime-426c4d5fb9c7101f.js","node_modules/@parcel/runtime-js/lib/runtime-4836a641395b77e3.js","node_modules/@parcel/runtime-js/lib/runtime-ce6346a07176af18.js","src/js/create-markup-shopping.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3bDNW\\\":\\\"shopping-list.26433848.js\\\",\\\"3bIHe\\\":\\\"amazon_link.626c9508.png\\\",\\\"dkcwB\\\":\\\"apple_link.652b354e.png\\\",\\\"2D6jo\\\":\\\"bookshop_link.1d091ebd.png\\\",\\\"8uu4p\\\":\\\"trash.2b5e5aae.png\\\",\\\"9KvYn\\\":\\\"index.94062ebc.js\\\"}\"));","import './js/queries';\nimport './js/header-current-page';\nimport './js/home';\n// import './js/create-markup-home';\nimport './js/shopping-list';\nimport './js/create-markup-shopping';\nimport './js/btn';\nimport './js/funds';\nimport './js/support-ukraine';\nimport './js/scroll-up';\nimport './js/theme';\nimport './js/category-list';\nimport './js/login-modal';\nimport './js/swiper';\nimport './js/menu';\n// import './js/create-modal';\n","import { hideLoader } from './queries';\nimport { getAddedBooks } from './login-modal';\nimport { checkCurentUser } from './login-modal';\nimport { bookList } from './login-modal';\nsetTimeout(() => {\n  console.log('jvnnre', bookList);\n  listEl.insertAdjacentHTML('beforeend', createMarkupBooksInShopping(bookList));\n}, 5000);\nhideLoader();\nconst containerEl = document.querySelector('.js-container-list');\nconst listEl = document.querySelector('.js-listInShopping');\n\nconst arrToShoppingList = [];\nconst array = JSON.parse(localStorage.getItem('shopping-list')) ?? [];\n// listEl.insertAdjacentHTML('beforeend', createMarkupBooksInShopping(bookList));\n// const btnDelete = document.querySelector('.js-li-shopping');\n\n// apiFetch().then(data =>\n//   containerEl.insertAdjacentHTML('beforeend', createMarkupTopBooks(data))\n// );\n\n// containerEl.addEventListener('click', addToShoppingList);\n// listEl.addEventListener('click', onClickBtnDelete);\n\nfunction onClickBtnDelete(evt) {\n  if (evt.target.classList.contains('js-delete')) {\n    const li = evt.target.closest('.js-li-shopping');\n    const id = li.dataset.id;\n    console.log(id);\n    // const masShop = array.filter(item => item._id !== id);\n    // console.log(masShop);\n    // listEl.innerHTML = createMarkupBooksInShopping(masShop);\n    const index = array.findIndex(item => item._id === id);\n    console.log(array[index]);\n    array.splice(index, 1);\n    console.log(array);\n    localStorage.setItem('shopping-list', JSON.stringify(array));\n    listEl.innerHTML = createMarkupBooksInShopping(array);\n  }\n}\n\nfunction addToShoppingList(evt) {\n  evt.preventDefault();\n  if (!evt.target.classList.contains('js-addToShopping')) {\n    return;\n  }\n\n  getAddedBooks();\n\n  iterateArray(getAddedBooks());\n\n  const li = evt.target.closest('.js-card');\n  const id = li.dataset.id;\n\n  apiFetchCate(id).then(data => {\n    const inShoppingList = array.some(item => li.dataset.id === item._id);\n    if (inShoppingList) {\n      return;\n    }\n    array.push(data);\n    console.log(array);\n    localStorage.setItem('shopping-list', JSON.stringify(array));\n    listEl.innerHTML = createMarkupBooksInShopping(array);\n  });\n\n  const mas = document.querySelectorAll('.js-card');\n\n  const findEl = [...mas].find(item => item.dataset.id === id);\n\n  //   const inShoppingList = arrToShoppingList.some(\n  //     item => item.dataset.id === findEl.dataset.id\n  //   );\n\n  //   if (inShoppingList) {\n  //     return;\n  //   }\n  //   const inShoppingList = arrToShoppingList.some(\n  //     item => li.dataset.id === item.dataset.id\n  //   );\n  //   if (inShoppingList) {\n  //     return;\n  //   }\n  //   arrToShoppingList.push(li);\n  //   console.log(arrToShoppingList);\n\n  // listEl.insertAdjacentElement('beforeend', arrToShoppingList[0])\n  //   listEl.append(...arrToShoppingList);\n}\n\nfunction addTo(arrayId) {\n  arrayId.map(item => {\n    apiFetchCate(item).then(data => {\n      //   const inShoppingList = array.some(item => li.dataset.id === item._id);\n      //   if (inShoppingList) {\n      //     return;\n      //   }\n      //   array.push(data);\n      //   console.log(array);\n      //   localStorage.setItem('shopping-list', JSON.stringify(array));\n      console.log(data);\n      //   listEl.innerHTML = createMarkupBooksInShopping(array);\n    });\n  });\n}\n\nfunction apiFetch() {\n  return fetch('https://books-backend.p.goit.global/books/top-books').then(\n    resp => resp.json()\n  );\n}\n\nfunction createMarkupTopBooks(books) {\n  return books\n    .map(book => {\n      const booksArr = book.books\n        .map(\n          bookOne => `<li class='js-card' data-id=${bookOne._id}>\n\t\t\t\t<h2>${book.list_name}</h2>\n\t\t\t\t<img src=\"${bookOne.book_image}\" alt=\"\" width='180'>\n\t\t\t\t<p>${bookOne.author}</p>\n\t\t\t\t<button class='js-addToShopping'>Add to shopping list</button>\n\t\t\t</li>`\n        )\n        .join('');\n      return `<ul>${booksArr}</ul>`;\n    })\n    .join('');\n}\n\n// // const listEl = document.querySelector('.js-listInShopping');\n\nfunction apiFetchCate(id) {\n  return fetch(`https://books-backend.p.goit.global/books/${id}`).then(resp =>\n    resp.json()\n  );\n}\n\nfunction createMarkupBooksInShopping(books) {\n  return books\n    .map(\n      book =>\n        `<li class='js-li-shopping' data-id='${book._id}'>\n\t\t\t\t<img src=\"${book.book_image}\" alt=\"${book.title}\" width='116'>\n\t\t\t\t<h2>${book.title}</h2>\n\t\t\t\t<h3>${book.list_name}</h3>\n\t\t\t\t<p>${book.description}</p>\n\t\t\t\t<h3>${book.author}</h3>\n\t\t\t\t<button class='js-delete'>Delete</button>\n\t\t\t\t<a href=\"${book.amazon_product_url}\">Amazon</a>\n\t\t\t\t<a href=\"${book.buy_links[1].url}\">Book1</a>\n\t\t\t\t<a href=\"${book.buy_links[2].url}\">Book2</a>\n\t\t\t</li>`\n    )\n    .join('');\n}\n\nexport { array };\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3bIHe\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dkcwB\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2D6jo\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8uu4p\")).toString();","import amazonImg from '../images/amazon_link.png';\nimport appleImg from '../images/apple_link.png';\nimport bookshopImg from '../images/bookshop_link.png';\nimport trash from '../images/trash.png';\nimport { hideLoader } from './queries'\n\nlet shoppingList = [\n  {\n    id: 1,\n    title: 'Harry Potter',\n    book_image: 'harry-potter.jpg',\n    buy_links: [\n      {\n        name: 'Amazon',\n        url: 'https://www.amazon.com/Harry-Potter-Philosophers-Stone-Rowling/dp/B01MTGVJ6X/ref=sr_1_9',\n      },\n      {\n        name: 'Audible',\n        url: 'https://www.audible.com/pd/Harry-Potter-and-the-Sorcerers-Stone-Audiobook/B017V4SPQQ',\n      },\n    ],\n    contributor: 'J.K. Rowling',\n    age_group: 'Children',\n    description: 'Fantasy novel about the boy wizard Harry Potter',\n  },\n  {\n    id: 2,\n    title: 'Lord of the Rings',\n    book_image: 'lord-of-the-rings.jpg',\n    buy_links: [\n      {\n        name: 'Amazon',\n        url: 'https://www.amazon.com/Lord-Rings-Fellowship-Ultimate-Collectors/dp/B007ZQAKHU/ref=sr_1_2',\n      },\n      {\n        name: 'Audible',\n        url: 'https://www.audible.com/pd/The-Fellowship-of-the-Ring-Audiobook/B0099RKI5W',\n      },\n    ],\n    contributor: 'J.R.R. Tolkien',\n    description: 'Epic fantasy adventure novel set in Middle-earth',\n  },\n  {\n    id: 3,\n    title: 'Lord of the Rings',\n    book_image: 'lord-of-the-rings.jpg',\n    buy_links: [\n      {\n        name: 'Amazon',\n        url: 'https://www.amazon.com/Lord-Rings-Fellowship-Ultimate-Collectors/dp/B007ZQAKHU/ref=sr_1_2',\n      },\n      {\n        name: 'Audible',\n        url: 'https://www.audible.com/pd/The-Fellowship-of-the-Ring-Audiobook/B0099RKI5W',\n      },\n    ],\n    contributor: 'J.R.R. Tolkien',\n    description: 'Epic fantasy adventure novel set in Middle-earth',\n  },\n  {\n    id: 4,\n    title: 'Lord of the Rings',\n    book_image: 'lord-of-the-rings.jpg',\n    buy_links: [\n      {\n        name: 'Amazon',\n        url: 'https://www.amazon.com/Lord-Rings-Fellowship-Ultimate-Collectors/dp/B007ZQAKHU/ref=sr_1_2',\n      },\n      {\n        name: 'Audible',\n        url: 'https://www.audible.com/pd/The-Fellowship-of-the-Ring-Audiobook/B0099RKI5W',\n      },\n    ],\n    contributor: 'J.R.R. Tolkien',\n    description: 'Epic fantasy adventure novel set in Middle-earth',\n  },\n];\n\nfunction generateCards() {\n  const cards = document.querySelector('.js-listInShopping');\n  shoppingList.forEach(book => {\n    cards.insertAdjacentHTML('beforeend', generateCard(book));\n  });\n}\n\n// generateCards();\n\nfunction deleteBook(bookId) {\n  shoppingList = shoppingList.filter(book => book.id !== bookId);\n\n  const cards = document.querySelector('.js-listInShopping');\n  cards.innerHTML = '';\n  generateCards();\n}\n\nwindow.deleteBook = deleteBook;\n\nfunction generateCard(book) {\n  return `\n    <li class=\"shopping-list-card\">\n      <div class=\"shopping-list-card__cover\">\n        <img src=\"${book.book_image}\">\n      </div>\n      <div class=\"shopping-list-card__content\">\n        <h1 class=\"shopping-list-card__title\">${book.title}</h1>\n        <p class=\"shopping-list-card__category\">${\n          book.age_group || 'No category'\n        }</p> \n<div class=\"shopping-list-card__wrapper\">\n        <p class=\"shopping-list-card__desc\">${\n          book.description || 'No description'\n        }</p>\n</div>\n<div class=\"shopping-list-card__cellar\">       \n <p class=\"shopping-list-card__author\">${book.contributor}</p>\n        <ul class=\"shopping-list-card__links\">\n                   <li>\n              <a class=\"seller__link shopping-list-card__amazon\" href=# target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Amazon\">\n                <img src=\"${amazonImg}\" alt=\"amazon\" />\n              </a>\n            </li>\n            <li>\n              <a class=\"seller__link shopping-list-card__book\" href=# target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Apple-books\">\n                <img src=\"${appleImg}\" alt=\"apple-books\" />\n              </a>\n            </li>\n            <li>\n              <a class=\"seller__link shopping-list-card__book\" href=# target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Bookshop\">\n                <img src=\"${bookshopImg}\" alt=\"bookshop\" />\n              </a>\n            </li>\n        </ul></div>\n        <button class=\"shopping-list-card__button\" onclick=\"deleteBook(${\n          book.id\n        })\">\n        \n        <img src=\"${trash}\" width=\"16\" height=\"16\" class=\"shopping-list-card__icon\" alt=\"Remove\">\n        \n        </button>\n\n      </div>\n  `;\n}\n\n// import { array } from './shopping-list.js';\n\n// let shoppingList = array;\n\n// function generateCards() {\n//   const cards = document.querySelector('.js-shopping-list-card');\n//   cards.innerHTML = '';\n\n//   shoppingList.forEach(book => {\n//     cards.insertAdjacentHTML('beforeend', generateCard(book));\n//   });\n// }\n\n// function deleteBook(event) {\n//   const bookElement = event.target.closest('.shopping-list-card');\n//   const bookId = bookElement.dataset.bookId;\n//   shoppingList = shoppingList.filter(book => book._id !== bookId);\n//   const cards = document.querySelector('.js-listInShopping');\n//   cards.innerHTML = '';\n//   generateCards();\n// }\n\n// window.deleteBook = deleteBook;\n\n// function generateCard(book) {\n//   return `\n//     <li class=\"shopping-list-card\" data-bookId='${book._id}'> \n//       <div class=\"shopping-list-card__cover\">\n//         <img src=\"${book.book_image}\">\n//       </div>\n// <div class=\"shopping-list-card__content\">\n//         <h1 class=\"shopping-list-card__title\">${book.title}</h1>\n//         <p class=\"shopping-list-card__category\">${\n//           book.list_name || 'No list name'\n//         }</p>\n// <div class=\"shopping-list-card__wrapper\">\n//         <p class=\"shopping-list-card__desc\">${\n//           book.description || 'No description'\n//         }</p>\n// </div>\n// <div class=\"shopping-list-card__cellar\">\n//         <p class=\"shopping-list-card__author\">${book.contributor}</p>\n//         <ul class=\"shopping-list-card__links\">\n//           <li>          \n//            <a href=\"${book.amazon_product_url}\"><img src=\"amazon.png\"></a>\n//           </li> \n//           <li>\n//            <a href=\"${\n//              book.buy_links[1].url\n//            }\"><img src=\"book1.png\"></a>             \n//           </li>\n//           <li>\n//            <a href=\"${book.buy_links[2].url}\"><img src=\"book2.png\"></a>\n//           </li>                  \n//         </ul></div>\n//         <button class=\"shopping-list-card__button\" onclick=\"deleteBook(${\n//           book._id\n//         })\">\n//         <svg width=\"16\" height=\"16\" class=\"shopping-list-card__icon\">\n//         <use href=\"/icons.e58dda3e.svg#icon-trash\"></use>\n//         </svg>\n//         </button>\n//       </div>\n// </li>\n//   `;\n// }\n\n// generateCards();\n\nhideLoader();\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$j2XVn","setTimeout","console","log","$gY4QW","bookList","$e5c62ffd1c5d842f$var$listEl","insertAdjacentHTML","$e5c62ffd1c5d842f$var$createMarkupBooksInShopping","hideLoader","document","querySelector","localStorage","getItem","books","map","book","_id","book_image","title","list_name","description","author","amazon_product_url","buy_links","url","join","$90334eaed38668a9$exports","URL","resolve","toString","$c7fab019eef52cc4$exports","$412313614dee0bc4$exports","$e6dac17c1582f8ee$exports","$28102e3d10e5b638$var$shoppingList","name","contributor","age_group","$28102e3d10e5b638$var$generateCards","cards","forEach","$parcel$interopDefault","$28102e3d10e5b638$var$generateCard","window","deleteBook","bookId","filter","innerHTML"],"version":3,"file":"shopping-list.26433848.js.map"}