{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-6cc071300f1d4663.js","src/index.js","src/js/home.js","src/js/create-markup-category-books.js","src/js/storage-servises.js","src/js/category-list.js","src/js/create-markup-home.js","node_modules/@parcel/runtime-js/lib/runtime-5d1d3f7f2f9a5260.js","node_modules/@parcel/runtime-js/lib/runtime-a9387971e7ab79a5.js","node_modules/@parcel/runtime-js/lib/runtime-2279fdd1664f2895.js","src/js/create-modal.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.9ebdad4f.js\\\",\\\"9qBCW\\\":\\\"amazon_link.626c9508.png\\\",\\\"gTCLq\\\":\\\"apple_link.652b354e.png\\\",\\\"7wZd0\\\":\\\"bookshop_link.1d091ebd.png\\\",\\\"bVuRq\\\":\\\"index.e8c679c3.js\\\"}\"));","import './js/queries';\nimport './js/header-current-page';\nimport './js/menu';\nimport './js/home';\nimport './js/create-markup-home';\n// import './js/shopping-list';\n// import './js/create-markup-shopping';\nimport './js/btn';\nimport './js/funds';\nimport './js/support-ukraine';\nimport './js/scroll-up';\nimport './js/theme';\nimport './js/category-list';\nimport './js/login-modal';\nimport './js/swiper';\nimport './js/create-modal';\n","import { apiRequestTopBooks, hideLoader } from './queries';\nimport { createMarkupTopBooks } from './create-markup-home';\nimport { apiRequestCategory } from './queries';\nimport { createMarkupCategory } from './create-markup-category-books';\nimport { saveActiveCategory, changeActiveCategory } from './category-list';\n\nexport { allCategoryCreate };\nconst mainHomeContainerEl = document.querySelector('.js-section-top-books');\n\nfunction allCategoryCreate() {\n  apiRequestTopBooks()\n    .then(data => {\n      const MarkupTopBooks = createMarkupTopBooks(data);\n      mainHomeContainerEl.innerHTML = MarkupTopBooks;\n\n      if (data.page !== data.total_pages) {\n        paginationBtn.hidden = false;\n      }\n      hideLoader();\n      // сброс активной категории\n      saveActiveCategory('All categories');\n      changeActiveCategory();\n    })\n    .catch(err => console.log(err));\n}\n\nallCategoryCreate();\n\ndocument.body.addEventListener('click', function (event) {\n  if (event.target.classList.contains('js-top-books_button')) {\n    // выполнить функцию для элемента с классом 'js-top-books_button'\n    const category = event.target.getAttribute('data-category');\n\n    apiRequestCategory(category)\n      .then(data => {\n        const MarkupCategory = createMarkupCategory(data);\n        mainHomeContainerEl.innerHTML = `<h1 class=\"title-top-books\">${category}</h1><div class=\"category-books_container\">${MarkupCategory}</div>`;\n        // добавление активной категории\n        saveActiveCategory(category);\n        changeActiveCategory();\n      })\n      .catch(err => console.log(err));\n  }\n});\n","export { createMarkupCategory };\n\nfunction createMarkupCategory(arr) {\n    return arr.map(obj =>\n        `<div class=\"top-books_book\">\n            <img class=\"top-books_image\" src=\"${obj.book_image}\" alt=\"book_image\"  width=\"180\"></img>\n            <h3 class=\"top-books_title\">${obj.title}</h3>\n            <p class=\"top-books_author\">${obj.contributor}</p>\n            <button class='top-books_quick-view ' data-bookId='${obj._id}' type=\"button\">quick view</button>\n        </div>`\n    ).join('');\n}\n","export { remove, load, save };\n\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Remove state error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","import { createMarkupCategory } from './create-markup-category-books';\nimport { apiRequestCategory } from './queries';\nimport { allCategoryCreate } from './home';\n\nimport { save, load } from './storage-servises';\nexport { saveActiveCategory, changeActiveCategory };\n\nconst categoryListEl = document.querySelector('.category-list');\nconst categoryConteiner = document.querySelector('.js-section-top-books');\n\ncategoryListEl.addEventListener('click', async e => {\n  const categoryRequest = e.target.dataset.category || e.target.textContent;\n  const categoryRequestTarget = e.target;\n\n  if (e.target.textContent === categoryListEl.textContent) {\n    return;\n  }\n\n  if (categoryRequest === 'All categories') {\n    allCategoryCreate();\n    // добавление активной категории\n    saveActiveCategory(e.target.textContent);\n    changeActiveCategory(categoryRequestTarget);\n  } else {\n    apiRequestCategory(categoryRequest)\n      .then(data => {\n        // console.log(data);\n        const MarkupCategory = createMarkupCategory(data);\n        categoryConteiner.innerHTML = `<h1 class=\"title-top-books\">${e.target.textContent}</h1><div class=\"category-books_container\">${MarkupCategory}</div>`;\n\n        // добавление активной категории\n        saveActiveCategory(e.target.textContent);\n        changeActiveCategory(categoryRequestTarget);\n      })\n      .catch(err => console.log(err));\n  }\n});\n\napiRequestCategoriesList()\n  .then(data => {\n    categoryListEl.insertAdjacentHTML('beforeend', createMarkupCategList(data));\n  })\n  .catch(err => console.log(err));\n\nfunction apiRequestCategoriesList() {\n  const CATEGORIES_URL =\n    'https://books-backend.p.goit.global/books/category-list';\n  return fetch(CATEGORIES_URL).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\nfunction createMarkupCategList(arr) {\n  return arr\n    .map(\n      li => `<li class=\"category-list_item\" data-category='${li.list_name}'>\n        <p class=\"category-list_name\">${li.list_name}</p>\n</li>`\n    )\n    .sort()\n    .join('');\n}\n\nfunction changeActiveCategory() {\n  const nameOfCat = load('activeCategory');\n  const activeCategory = document.querySelector('.active-category');\n  const liEl = document.querySelectorAll('.category-list_item');\n\n  if (activeCategory) {\n    activeCategory.classList.remove('active-category');\n  }\n\n  liEl.forEach(el => {\n    const category = el.getAttribute('data-category');\n    if (category === nameOfCat) {\n      el.classList.add('active-category');\n    }\n  });\n}\n\nfunction saveActiveCategory(value) {\n  save('activeCategory', value);\n}\n","export { createMarkupTopBooks };\n\nfunction createMarkupTopBooks(arr) {\n  const markup = arr\n    .map(obj => {\n      const booksMarkup = obj.books\n        .map(\n          obj => `<li class=\"top-books_list list\">\n    <div class=\"top-books_book\">\n        <img class=\"top-books_image\" src=\"${obj.book_image}\" alt=\"book_image\"  width=\"180\">\n        <h3 class=\"top-books_title\">${obj.title}</h3>\n        <p class=\"top-books_author\">${obj.contributor}</p>\n        <button class='top-books_quick-view ' data-bookId='${obj._id}' type=\"button\">quick view</button></div>\n  \n</li>`\n        )\n        .join('');\n      return `\n      <div class=\"top-books\">\n      <h2 class=\"top-books_category\">${obj.list_name}</h2>\n      <ul class=\"top-books_container\">${booksMarkup}</ul>\n      <div class=\"js-top-books_button top-books_button link\" data-category='${obj.list_name}'>see more</div>\n      </div>`;\n    })\n    .join('');\n  return `<h1 class=\"title-top-books\">Best Sellers <span>Books</span></h1><div class=\"js-top-books-container\">${markup}</div>`;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"9qBCW\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"gTCLq\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"7wZd0\");","import amazonImg from '../images/amazon_link.png';\nimport appleImg from '../images/apple_link.png';\nimport bookshopImg from '../images/bookshop_link.png';\nimport storageServises from './storage-servises';\n\n// export {onCloseModal}\n\n// import { initializeApp } from 'firebase/app';\n\nimport 'firebase/auth';\n\nimport Notiflix from 'notiflix';\n\n// import {\n//   getAuth,\n//   onAuthStateChanged,\n//   signOut,\n//   createUserWithEmailAndPassword,\n// } from 'firebase/auth';\n\n// import {\n//   getDatabase,\n//   ref,\n//   set,\n//   child,\n//   update,\n//   remove,\n//   get,\n//   onValue,\n// } from 'firebase/database';\n\nimport { addbooktosl, removeBook } from './login-modal';\n// import { async } from '@firebase/util';\n\nconst bookQuikWiew = document.querySelector('.main');\nconst modalElement = document.querySelector('.modal_pop-up__container');\nconst modalInfo = document.querySelector('.modal_pop-up__description');\nconst bookDescription = document.querySelector('.no-description');\nconst backdrop = document.querySelector('.backdrop_pop-up');\nconst closeModalBtn = document.querySelector('.modal_pop-up__close-btn');\n\n// const SHOP_LIST_KEY = 'selected-books';\n\nbookQuikWiew.addEventListener('click', onOpenModal);\ncloseModalBtn.addEventListener('click', onCloseModal);\n\nlet bookItem;\n\nexport async function onOpenModal(evt) {\n  if (!evt.target.closest('.top-books_quick-view')) return;\n\n  const bookId = evt.target\n    .closest('.top-books_quick-view')\n    .getAttribute('data-bookId');\n  bookItem = bookId;\n  // console.log(bookId);\n\n  backdrop.classList.remove('backdrop_pop-up--is-hidden');\n  backdrop.addEventListener('click', handleBackdropClick);\n  closeModalBtn.addEventListener('click', onCloseModal);\n  window.addEventListener('keydown', onEscKeyPress);\n\n  await renderBookById(bookId);\n\n  // const buttonModalRemoveBook = document.querySelector('.modal__btn-remove');\n  // buttonModalRemoveBook.addEventListener('click', removeee)\n\n  // function removeee() {\n  //     console.log('cliiiiick')\n  // }\n\n  // await\n\n  // const addAAbook = document.querySelector('.modal__btn-add');\n  // addAAbook.addEventListener('click', addbooktosl(bookId));\n}\n\nfunction onCloseModal() {\n  backdrop.classList.toggle('backdrop_pop-up--is-hidden');\n  backdrop.removeEventListener('click', handleBackdropClick);\n  closeModalBtn.removeEventListener('click', onCloseModal);\n  window.removeEventListener('keydown', onEscKeyPress);\n\n  modalInfo.innerHTML = '';\n}\n\nfunction onEscKeyPress(event) {\n  if (event.code === 'Escape') {\n    onCloseModal();\n  }\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === event.currentTarget) {\n    onCloseModal();\n  }\n}\n\n// function checkUserIn() {\n//   onAuthStateChanged(auth, user => {\n//     if (user) {\n//       // checkname();\n//       // checkId();\n//       // getAddedBooks();\n\n//       // ...\n//     } else {\n//       NoLoginTxt.style.display = 'block';\n//     }\n//   });\n// }\n\nasync function renderBookById(bookId) {\n  modalElement.innerHTML = '';\n\n  try {\n    const book = await getBookById(bookId);\n\n    storageServises.save('active-book', book);\n\n    const bookInStorage = Boolean(\n      storageServises.load('selected-books')?.find(el => el._id === book._id)\n    );\n\n    const { book_image, title, author, description, buy_links } = book;\n\n    if (description === '') {\n      bookDescription.innerHTML = 'We hope you will love it';\n    } else {\n      bookDescription.innerHTML = '';\n    }\n\n    const markup = `<div class=\"modal-info\">\n    <img class=\"book__img\" src=\"${book_image}\" alt=\"${title}\"/>\n    <div class=\"modal-info__box\">\n       <h2 class=\"book__title\">${title}</h2>\n       <h3 class=\"book__author\">${author}</h3>\n       <p class=\"book__description\">${description}</p>\n       <ul class=\"list seller__list\">\n         <li>\n              <a class=\"seller__link\" href=\"${\n                buy_links[0].url\n              }\" target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Amazon\">\n                <img src=\"${amazonImg}\" alt=\"amazon\" class=\"seller__pic\" />\n              </a>\n            </li>\n            <li>\n              <a class=\"seller__link\" href=\"${\n                buy_links[1].url\n              }\" target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Apple-books\">\n                <img src=\"${appleImg}\" alt=\"apple-books\" class=\"seller__pic\"/>\n              </a>\n            </li>\n            <li>\n              <a class=\"seller__link\" href=\"${\n                buy_links[4].url\n              }\" target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Bookshop\">\n                <img src=\"${bookshopImg}\" alt=\"bookshop\" class=\"seller__pic\"/>\n              </a>\n            </li>\n       </ul>\n       </div>\n    </div>\n    <button class=\"btn modal__btn-add\" type=\"button\"\n    data-bookId='${bookId}'>${\n      bookInStorage ? 'remove from the shopping list' : 'add to shopping list'\n    }</button>\n    <button class=\"btn modal__btn-remove\" data-bookId='${bookId}' type=\"button\">remove from the shopping list</button>\n    <p class=\"modal__btn-text\">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>\n    <p class=\"modal__btn-need-login\">First you need to login</p>`;\n\n    // <button class=\"btn modal__btn-remove\" type=\"button\">remove from the shopping list</button>\n    //   <p class=\"modal__btn-text\">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>\n\n    modalElement.innerHTML = markup;\n\n    const removeBtn = document.querySelector('.modal__btn-remove');\n    const NoLoginTxt = document.querySelector('.modal__btn-need-login');\n    const addABook = document.querySelector('.modal__btn-add');\n    const congratulationMsg = document.querySelector('.modal__btn-text');\n\n    addABook.addEventListener('click', event => {\n      const bookId = event.target.getAttribute('data-bookId');\n\n      addbooktosl(bookId);\n      removeBtn.style.display = 'block';\n      addABook.style.display = 'none';\n      congratulationMsg.style.display = 'block';\n      setTimeout(() => {\n        congratulationMsg.style.display = 'none';\n      }, 6500);\n    });\n\n    removeBtn.addEventListener('click', event => {\n      const bookId = event.target.getAttribute('data-bookId');\n      // checkYouHaveBook(bookId);\n      removeBook(bookId);\n      removeBtn.style.display = 'none';\n      addABook.style.display = 'block';\n      congratulationMsg.style.display = 'none';\n    });\n\n    function checkYouHaveBook(bookId) {\n      const userDataString = getUserData();\n      userDataString.books.map(book => {\n        if (book === bookId) {\n          removeBtn.style.display = 'block';\n          addABook.style.display = 'none';\n          congratulationMsg.style.display = 'none';\n          Notiflix.Notify.warning('You already have this book');\n        }\n      });\n    }\n\n    function checkUserIn() {\n      const userDataString = getUserData();\n      if (!userDataString) {\n        NoLoginTxt.style.display = 'block';\n        removeBtn.style.display = 'none';\n        addABook.style.display = 'none';\n      }\n    }\n\n    checkUserIn();\n    checkYouHaveBook(bookId);\n\n    const linksShops = document.querySelectorAll('.modal__link');\n    onLinksClick(linksShops);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction getUserData() {\n  const userDataString = localStorage.getItem('userdata');\n  if (userDataString) {\n    const userData = JSON.parse(userDataString);\n    return userData;\n  } else {\n    return null;\n  }\n}\n\n\nfunction onLinksClick(links) {\n  for (let i = 0; i < links.length; i++) {\n    let link = links[i];\n    link.addEventListener('click', function (e) {\n      e.preventDefault();\n      window.open(this.href);\n    });\n  }\n}\n\nconst BASE_URL = 'https://books-backend.p.goit.global/books/';\n\nasync function getBookById(bookId) {\n  const URL = `${BASE_URL}${bookId}`;\n  const resp = await fetch(URL);\n  if (!resp.ok) {\n    throw new Error(resp.statusText);\n  }\n  return await resp.json();\n}\n"],"names":["parcelRequire","register","JSON","parse","$2tTzi","$ebcd9d8daecfc034$export$5c6c81f9c5a88dc","arr","map","obj","book_image","title","contributor","_id","join","$b3186d35b168cd5d$export$a1544dad697b423d","key","value","serializedState","stringify","localStorage","setItem","error","console","message","$b3186d35b168cd5d$export$11e63f7b0f3d9900","getItem","undefined","$b3186d35b168cd5d$export$2e2bcd8739ae039","removeItem","$63c842988642d6f1$var$categoryListEl","document","querySelector","$63c842988642d6f1$var$categoryConteiner","$63c842988642d6f1$export$8754fe332e345678","nameOfCat","activeCategory","liEl","querySelectorAll","classList","remove","forEach","el","getAttribute","add","$63c842988642d6f1$export$eb2c8698cba8aabd","addEventListener","async","e","categoryRequest","target","dataset","category","textContent","$4f1c0259bbb55e68$export$ce3b903fddb06c5d","apiRequestCategory","then","data","MarkupCategory","innerHTML","catch","err","log","fetch","resp","ok","Error","statusText","json","insertAdjacentHTML","li","list_name","sort","$4f1c0259bbb55e68$var$mainHomeContainerEl","apiRequestTopBooks","MarkupTopBooks","booksMarkup","books","page","total_pages","paginationBtn","hidden","hideLoader","body","event","contains","$18d259bdb8a5c57c$exports","getBundleURL","resolve","$6f0165e792903077$exports","$d7a8a361be5a7d2a$exports","$44af8a00698e3543$var$bookQuikWiew","$44af8a00698e3543$var$modalElement","$44af8a00698e3543$var$modalInfo","$44af8a00698e3543$var$bookDescription","$44af8a00698e3543$var$backdrop","$44af8a00698e3543$var$closeModalBtn","$44af8a00698e3543$var$bookItem","$44af8a00698e3543$var$onCloseModal","toggle","removeEventListener","$44af8a00698e3543$var$handleBackdropClick","window","$44af8a00698e3543$var$onEscKeyPress","code","currentTarget","$44af8a00698e3543$var$getUserData","userDataString","evt","closest","bookId","book","URL","$44af8a00698e3543$var$BASE_URL","$44af8a00698e3543$var$getBookById","save","bookInStorage","Boolean","load","find","author","description","buy_links","markup","url","$parcel$interopDefault","removeBtn","NoLoginTxt","addABook","congratulationMsg","checkYouHaveBook","style","display","$6JpON","Notify","warning","checkUserIn","$cRUDO","addbooktosl","setTimeout","removeBook","links","i","length","preventDefault","open","this","href","$44af8a00698e3543$var$onLinksClick","$44af8a00698e3543$var$renderBookById"],"version":3,"file":"index.9ebdad4f.js.map"}